{% extends 'base.html' %}

{% block title %}
    <title>Todolist Manage - TaskMate</title>
{% endblock title %}


{% block content %}
    <div class="container">
    </br>
    
    {%if messages%}
        {%for message in messages%}
        <div class="alert alert-info alert-dismissible fade show" role="alert">
            {{message}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {%endfor%}
    {%endif%}

        <form method="POST" class="row col-15">
            {% csrf_token %}
            <label class="col-4"></label>
            <input type="text" class="form-control col" name="task" placeholder="New Task?">
            <button type="submit" class="btn btn-primary col-2">Add Task</button>
        </form>
        <br>
        <table class="table table-bordered">
            <thead class="table-dark">
                <tr>
                    <th scope="col">Task</th>
                    <th scope="col">Done</th>
                    <th scope="col">Edit</th>
                    <th scope="col">Delete</th>
                </tr>
            </thead>
            <tbody>
            {%if all_tasks%}
                {% for obj in all_tasks%}    
                    {% if obj.done %}
                        <tr class="table-success"> 
                            <td scope="row">{{obj.task}}</td>
                            <td>Completed</td>
                            <td>Edit</td>
                            <td>Delete</td>
                        </tr>  
                    {% else %}
                        <tr> 
                            <td scope="row">{{obj.task}}</td>
                            <td>Not Completed</td>
                            <td>Edit</td>
                            <td>Delete</td>
                        </tr> 
                    {% endif %}
                {% endfor %}
            {%endif%}

            </tbody>
        </table>
    </div>
{% endblock content %}